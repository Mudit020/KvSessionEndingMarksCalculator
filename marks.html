<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session Ending Marks Calculator</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Main Wrapper to push footer down */
        .main-content {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 900px;
            width: 100%;
            padding: 40px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        h1 { text-align: center; color: #333; margin-bottom: 10px; font-size: 2.5em; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 1.1em; }

        .stream-selection { display: flex; gap: 20px; justify-content: center; margin-bottom: 30px; }
        
        .stream-btn {
            padding: 12px 30px; font-size: 1.1em; border: 2px solid #667eea;
            background: white; color: #667eea; border-radius: 8px; cursor: pointer;
            transition: all 0.3s ease; font-weight: 600;
        }
        .stream-btn:hover { background: #667eea; color: white; transform: translateY(-2px); }
        .stream-btn.active { background: #667eea; color: white; box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4); }

        .subjects-container { display: none; animation: fadeIn 0.5s ease; }
        .subjects-container.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .subject-section {
            margin-bottom: 40px; padding: 25px; background: #f8f9fa;
            border-radius: 10px; border-left: 5px solid #667eea;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .subject-title {
            font-size: 1.4em; color: #333; margin-bottom: 20px; font-weight: 700;
            text-transform: uppercase; display: flex; justify-content: space-between; align-items: center;
        }

        .subject-badge { font-size: 0.6em; background: #e9ecef; padding: 4px 8px; border-radius: 4px; color: #666; font-weight: normal; }

        .input-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 15px; }
        .input-row.full { grid-template-columns: 1fr; }
        .form-group { display: flex; flex-direction: column; }
        
        label { margin-bottom: 8px; color: #555; font-weight: 600; font-size: 0.95em; }
        
        input[type="number"] {
            padding: 12px; border: 2px solid #ddd; border-radius: 6px; font-size: 1em; transition: all 0.3s ease;
        }
        input[type="number"]:focus { outline: none; border-color: #667eea; box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
        
        .input-error { border-color: #dc3545 !important; background-color: #fff8f8; }

        .input-hint { font-size: 0.85em; color: #999; margin-top: 2px; font-weight: normal; }

        .button-group { display: flex; gap: 15px; justify-content: center; margin-top: 40px; }
        button { padding: 14px 40px; font-size: 1.1em; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s ease; }
        
        .calculate-btn { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; flex: 1; max-width: 250px; box-shadow: 0 4px 15px rgba(118, 75, 162, 0.3); }
        .calculate-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(118, 75, 162, 0.4); }
        
        .reset-btn { background: #fff; border: 2px solid #e74c3c; color: #e74c3c; flex: 1; max-width: 200px; }
        .reset-btn:hover { background: #e74c3c; color: white; transform: translateY(-2px); }

        .results-section { display: none; background: white; padding: 30px; border-radius: 10px; margin-top: 30px; border: 2px solid #f0f0f0; }
        .results-section.show { display: block; animation: slideIn 0.5s ease; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .result-title { font-size: 1.6em; color: #333; margin-bottom: 25px; text-align: center; font-weight: 700; }

        .subject-result { padding: 15px; margin-bottom: 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; border-left: 4px solid #ddd; }
        .subject-result.pass { background: #d4edda; border-left-color: #28a745; }
        .subject-result.fail { background: #f8d7da; border-left-color: #dc3545; }

        .subject-name { font-weight: 600; color: #333; font-size: 1.05em; }
        .subject-details { text-align: right; }
        .subject-details .marks { color: #555; font-weight: 600; }
        .subject-details .status { font-size: 0.9em; color: #666; margin-top: 5px; }
        .subject-result.pass .status { color: #28a745; font-weight: 600; }
        .subject-result.fail .status { color: #dc3545; font-weight: 600; }

        .summary-box { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 25px; border-radius: 10px; margin: 25px 0; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; box-shadow: 0 10px 20px rgba(118, 75, 162, 0.2); }
        .summary-item { text-align: center; }
        .summary-label { font-size: 0.95em; opacity: 0.9; margin-bottom: 8px; }
        .summary-value { font-size: 2em; font-weight: 700; }

        .final-message { text-align: center; padding: 20px; background: #f0f0f0; border-radius: 8px; margin-top: 20px; font-size: 1.2em; font-weight: 700; color: #333; }
        .final-message.promote { background: #d4edda; color: #155724; border: 2px solid #28a745; }
        .final-message.fail { background: #f8d7da; color: #721c24; border: 2px solid #dc3545; }
        .final-message.supply { background: #fff3cd; color: #856404; border: 2px solid #ffc107; }

        .required-field { color: #dc3545; }

        /* --- NEW DISTINCT FOOTER SECTION --- */
        .site-footer {
            width: 100%;
            background: rgba(0, 0, 0, 0.2); /* Semi-transparent dark bg */
            backdrop-filter: blur(10px);    /* Blur effect behind footer */
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #fff;
            padding: 25px 0;
            text-align: center;
            margin-top: auto;
        }

        .footer-content {
            max-width: 900px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .creators {
            font-size: 1.1em;
            letter-spacing: 0.5px;
        }

        .creators span {
            font-weight: 700;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .copyright {
            font-size: 0.85em;
            color: rgba(255, 255, 255, 0.7);
        }

        @media (max-width: 768px) {
            .container { padding: 20px; }
            h1 { font-size: 1.8em; }
            .stream-selection { flex-direction: column; }
            .input-row { grid-template-columns: 1fr; }
            .summary-box { grid-template-columns: 1fr; }
            .button-group { flex-direction: column; }
            .calculate-btn, .reset-btn { max-width: 100%; }
        }
    </style>
</head>
<body>
    
    <div class="main-content">
        <div class="container">
            <h1>Marks Calculator</h1>
            <p class="subtitle">Session Ending Class 11 Result Prediction</p>

            <div class="stream-selection">
                <button class="stream-btn" onclick="selectStream('cs')">CS Stream</button>
                <button class="stream-btn" onclick="selectStream('hindi')">Hindi Stream</button>
            </div>

            <div id="cs-stream" class="subjects-container">
                <div class="subject-section">
                    <h3 class="subject-title">üìö Physics <span class="subject-badge">Theory Max: 70</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span> <span class="input-hint">(Max 40)</span></label>
                            <input type="number" id="cs-phy-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span> <span class="input-hint">(Max 70)</span></label>
                            <input type="number" id="cs-phy-hy" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span> <span class="input-hint">(Max 40)</span></label>
                            <input type="number" id="cs-phy-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span> <span class="input-hint">(Max 70)</span></label>
                            <input type="number" id="cs-phy-sse" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span> <span class="input-hint">(Max 30)</span></label>
                            <input type="number" id="cs-phy-prac" min="0" max="30" placeholder="0-30">
                        </div>
                    </div>
                </div>

                <div class="subject-section">
                    <h3 class="subject-title">‚öóÔ∏è Chemistry <span class="subject-badge">Theory Max: 70</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-chem-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-chem-hy" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-chem-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span></label>
                            <input type="number" id="cs-chem-sse" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-chem-prac" min="0" max="30" placeholder="0-30">
                        </div>
                    </div>
                </div>

                <div class="subject-section">
                    <h3 class="subject-title">üî¢ Maths <span class="subject-badge">Theory Max: 80</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-math-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span> <span class="input-hint">(Max 80)</span></label>
                            <input type="number" id="cs-math-hy" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-math-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span> <span class="input-hint">(Max 80)</span></label>
                            <input type="number" id="cs-math-sse" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span> <span class="input-hint">(Max 20)</span></label>
                            <input type="number" id="cs-math-prac" min="0" max="20" placeholder="0-20">
                        </div>
                    </div>
                </div>

                <div class="subject-section">
                    <h3 class="subject-title">üìñ English <span class="subject-badge">Theory Max: 80</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-eng-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-eng-hy" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-eng-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span></label>
                            <input type="number" id="cs-eng-sse" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-eng-prac" min="0" max="20" placeholder="0-20">
                        </div>
                    </div>
                </div>

                <div class="subject-section">
                    <h3 class="subject-title">üíª Computer Science <span class="subject-badge">Theory Max: 70</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-cs-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-cs-hy" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-cs-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span></label>
                            <input type="number" id="cs-cs-sse" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span></label>
                            <input type="number" id="cs-cs-prac" min="0" max="30" placeholder="0-30">
                        </div>
                    </div>
                </div>
            </div>

            <div id="hindi-stream" class="subjects-container">
                <div class="subject-section">
                    <h3 class="subject-title">üìö Physics <span class="subject-badge">Theory Max: 70</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-phy-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-phy-hy" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-phy-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span></label>
                            <input type="number" id="hindi-phy-sse" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-phy-prac" min="0" max="30" placeholder="0-30">
                        </div>
                    </div>
                </div>

                <div class="subject-section">
                    <h3 class="subject-title">‚öóÔ∏è Chemistry <span class="subject-badge">Theory Max: 70</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-chem-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-chem-hy" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-chem-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span></label>
                            <input type="number" id="hindi-chem-sse" min="0" max="70" placeholder="0-70">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-chem-prac" min="0" max="30" placeholder="0-30">
                        </div>
                    </div>
                </div>

                <div class="subject-section">
                    <h3 class="subject-title">üî¢ Maths <span class="subject-badge">Theory Max: 80</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-math-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-math-hy" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-math-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span></label>
                            <input type="number" id="hindi-math-sse" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-math-prac" min="0" max="20" placeholder="0-20">
                        </div>
                    </div>
                </div>

                <div class="subject-section">
                    <h3 class="subject-title">üìñ English <span class="subject-badge">Theory Max: 80</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-eng-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-eng-hy" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-eng-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span></label>
                            <input type="number" id="hindi-eng-sse" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-eng-prac" min="0" max="20" placeholder="0-20">
                        </div>
                    </div>
                </div>

                <div class="subject-section">
                    <h3 class="subject-title">üáÆüá≥ Hindi <span class="subject-badge">Theory Max: 80</span></h3>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT1 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-hindi-pt1" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>Half Yearly Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-hindi-hy" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="form-group">
                            <label>PT2 Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-hindi-pt2" min="0" max="40" placeholder="0-40">
                        </div>
                        <div class="form-group">
                            <label>SSE (Expected) <span class="required-field">*</span></label>
                            <input type="number" id="hindi-hindi-sse" min="0" max="80" placeholder="0-80">
                        </div>
                    </div>
                    <div class="input-row full">
                        <div class="form-group">
                            <label>Practical Marks <span class="required-field">*</span></label>
                            <input type="number" id="hindi-hindi-prac" min="0" max="20" placeholder="0-20">
                        </div>
                    </div>
                </div>
            </div>

            <div class="button-group">
                <button class="calculate-btn" onclick="calculateMarks()">üìä Calculate Results</button>
                <button class="reset-btn" onclick="resetForm()">üîÑ Reset Form</button>
            </div>

            <div id="results" class="results-section">
                <div class="result-title">üìã Your Results</div>
                <div id="results-content"></div>
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="footer-content">
            <p class="creators">Created by <span>Mudit Raj Gajpal</span> & <span>Tushti Gajpal</span></p>
            <p class="copyright">&copy; 2026 All Rights Reserved</p>
        </div>
    </footer>

    <script>
        // --- NEW FEATURE: AUTO-ENFORCE LIMITS ---
        document.addEventListener('DOMContentLoaded', () => {
            const inputs = document.querySelectorAll('input[type="number"]');
            
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    const max = parseInt(this.getAttribute('max'));
                    const min = parseInt(this.getAttribute('min')) || 0;
                    let value = parseInt(this.value);

                    if (isNaN(value)) return;

                    if (value > max) {
                        this.value = max;
                        flashError(this);
                    }
                    if (value < min) {
                        this.value = min;
                        flashError(this);
                    }
                });
            });
        });

        function flashError(element) {
            element.classList.add('input-error');
            setTimeout(() => {
                element.classList.remove('input-error');
            }, 300);
        }

        let currentStream = '';

        function selectStream(stream) {
            currentStream = stream;
            
            document.querySelectorAll('.stream-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            document.getElementById('cs-stream').classList.remove('active');
            document.getElementById('hindi-stream').classList.remove('active');
            document.getElementById(`${stream}-stream`).classList.add('active');
            
            document.getElementById('results').classList.remove('show');
            document.getElementById('results-content').innerHTML = '';
        }

        function getInputValue(id) {
            const el = document.getElementById(id);
            const value = el.value;
            if (value === '') return null;
            
            let num = parseFloat(value);
            const max = parseFloat(el.getAttribute('max'));
            if (num > max) return max; 
            return num;
        }

        function validateInputs(stream) {
            const inputs = stream === 'cs' ? 
                ['cs-phy-pt1', 'cs-phy-hy', 'cs-phy-pt2', 'cs-phy-sse', 'cs-phy-prac',
                 'cs-chem-pt1', 'cs-chem-hy', 'cs-chem-pt2', 'cs-chem-sse', 'cs-chem-prac',
                 'cs-math-pt1', 'cs-math-hy', 'cs-math-pt2', 'cs-math-sse', 'cs-math-prac',
                 'cs-eng-pt1', 'cs-eng-hy', 'cs-eng-pt2', 'cs-eng-sse', 'cs-eng-prac',
                 'cs-cs-pt1', 'cs-cs-hy', 'cs-cs-pt2', 'cs-cs-sse', 'cs-cs-prac'] :
                ['hindi-phy-pt1', 'hindi-phy-hy', 'hindi-phy-pt2', 'hindi-phy-sse', 'hindi-phy-prac',
                 'hindi-chem-pt1', 'hindi-chem-hy', 'hindi-chem-pt2', 'hindi-chem-sse', 'hindi-chem-prac',
                 'hindi-math-pt1', 'hindi-math-hy', 'hindi-math-pt2', 'hindi-math-sse', 'hindi-math-prac',
                 'hindi-eng-pt1', 'hindi-eng-hy', 'hindi-eng-pt2', 'hindi-eng-sse', 'hindi-eng-prac',
                 'hindi-hindi-pt1', 'hindi-hindi-hy', 'hindi-hindi-pt2', 'hindi-hindi-sse', 'hindi-hindi-prac'];
            
            for (let id of inputs) {
                if (getInputValue(id) === null) {
                    alert('Please fill all fields for all subjects!');
                    return false;
                }
            }
            return true;
        }

        function calculateSubjectMarks(pt1, hy, pt2, sse, practical, hyMax, sseMax, pracMax) {
            const b = (pt1 * 10) / 40;
            const c = (hy * 30) / hyMax;
            const d = (pt2 * 10) / 40;
            const e = (sse * 50) / sseMax;
            
            const f = b + c + d + e;
            const g = Math.floor((f * sseMax) / 100);
            const total = g + practical;
            
            const passMark = sseMax === 70 ? 23 : 26;
            
            return { theoryMarks: g, totalMarks: total, passingMarks: passMark };
        }

        function calculateMarks() {
            if (!currentStream) {
                alert('Please select a stream first!');
                return;
            }

            if (!validateInputs(currentStream)) {
                return;
            }

            const prefix = currentStream === 'cs' ? 'cs-' : 'hindi-';
            let results = [];
            let totalMarks = 0;
            let failCount = 0;
            
            const subjects = currentStream === 'cs' 
                ? ['Physics', 'Chemistry', 'Maths', 'English', 'Computer Science']
                : ['Physics', 'Chemistry', 'Maths', 'English', 'Hindi'];
                
            const subjectKeys = currentStream === 'cs' 
                ? ['phy', 'chem', 'math', 'eng', 'cs']
                : ['phy', 'chem', 'math', 'eng', 'hindi'];

            for (let i = 0; i < subjects.length; i++) {
                const key = subjectKeys[i];
                const pt1 = getInputValue(`${prefix}${key}-pt1`);
                const hy = getInputValue(`${prefix}${key}-hy`);
                const pt2 = getInputValue(`${prefix}${key}-pt2`);
                const sse = getInputValue(`${prefix}${key}-sse`);
                const practical = getInputValue(`${prefix}${key}-prac`);
                
                let hyMax = 80;
                let sseMax = 80;
                let pracMax = 20;

                if (key === 'phy' || key === 'chem' || key === 'cs') {
                    hyMax = 70;
                    sseMax = 70;
                    pracMax = 30;
                }
                
                const { theoryMarks, totalMarks: subjTotal, passingMarks } = calculateSubjectMarks(pt1, hy, pt2, sse, practical, hyMax, sseMax, pracMax);
                
                const isPassing = theoryMarks >= passingMarks;
                totalMarks += subjTotal;
                
                if (!isPassing) {
                    failCount++;
                }
                
                results.push({
                    subject: subjects[i],
                    totalMarks: subjTotal,
                    theoryObtained: theoryMarks,
                    status: isPassing ? 'Pass' : 'Fail',
                    needMoreMarks: isPassing ? 0 : passingMarks - theoryMarks
                });
            }

            const percentage = (totalMarks / 500) * 100;
            const finalMessage = determineFinalMessage(failCount, results);

            displayResults(results, totalMarks, percentage, finalMessage);
        }

        function determineFinalMessage(failCount, results) {
            if (failCount >= 2) {
                return { message: '‚ùå You will FAIL in class 11', className: 'fail' };
            } else if (failCount === 1) {
                const failedSubject = results.find(r => r.status === 'Fail').subject;
                return { message: `‚ö†Ô∏è Supply (Compartment) in ${failedSubject}`, className: 'supply' };
            } else {
                return { message: '‚úÖ Promoted to Class 12', className: 'promote' };
            }
        }

        function displayResults(results, totalMarks, percentage, finalMessage) {
            let html = '';
            
            results.forEach(result => {
                const resultClass = result.status === 'Pass' ? 'pass' : 'fail';
                const statusText = result.status === 'Pass' 
                    ? `‚úÖ ${result.status}` 
                    : `‚ùå ${result.status} (Need ${result.needMoreMarks} more in Theory)`;
                
                html += `
                    <div class="subject-result ${resultClass}">
                        <div class="subject-name">${result.subject}</div>
                        <div class="subject-details">
                            <div class="marks">Total: ${result.totalMarks} / 100</div>
                            <div class="status" style="font-size:0.8em">Calc. Theory: ${result.theoryObtained}</div>
                            <div class="status">${statusText}</div>
                        </div>
                    </div>
                `;
            });

            html += `
                <div class="summary-box">
                    <div class="summary-item">
                        <div class="summary-label">Total Marks</div>
                        <div class="summary-value">${totalMarks} / 500</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Percentage</div>
                        <div class="summary-value">${percentage.toFixed(2)}%</div>
                    </div>
                </div>
                <div class="final-message ${finalMessage.className}">${finalMessage.message}</div>
            `;

            document.getElementById('results-content').innerHTML = html;
            document.getElementById('results').classList.add('show');
            
            setTimeout(() => {
                document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);
        }

        function resetForm() {
            document.querySelectorAll('input[type="number"]').forEach(input => input.value = '');
            document.getElementById('results').classList.remove('show');
            document.getElementById('results-content').innerHTML = '';
            currentStream = '';
            document.querySelectorAll('.stream-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('cs-stream').classList.remove('active');
            document.getElementById('hindi-stream').classList.remove('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
